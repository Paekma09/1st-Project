CREATE TABLE `GUESSVICTORY` (
	`ID`	VARCHAR(100)	NOT NULL,
	`NATION_NAME1`	VARCHAR(1000)	NOT NULL,
	`NATION_NAME2`	VARCHAR(1000)	NOT NULL,
	`VOTERATES1`	INT	NOT NULL,
	`VOTERATES2`	INT	NOT NULL,
	`VOTESTATUS`	BOOLEAN	NOT NULL,
	`PLAYTIME`	VARCHAR(100)	NOT NULL,
	`REGDATE`	DATETIME	NOT NULL
);

CREATE TABLE `PLAYDETAIL` (
	`NUMBER`	INT	NOT NULL,
	`GROUP`	VARCHAR(200)	NOT NULL,
	`NATION_NAME`	VARCHAR(1000)	NOT NULL,
	`LOCATION`	VARCHAR(1000)	NOT NULL,
	`PLAYDATE`	DATETIME	NOT NULL,
	`PLAYRESULT`	VARCHAR(500)	NOT NULL
);

CREATE TABLE `HIGHLIGHT` (
	`HINO`	INT	NOT NULL DEFAULT 0,
	`HITITLE`	VARCHAR(100)	NOT NULL,
	`HIDATE`	DATE	NOT NULL,
	`HIPATH`	VARCHAR(2000)	NOT NULL,
	`HIREADCOUNT`	INT	NOT NULL
);

CREATE TABLE `TALK` (
	`TNO`	INT	NOT NULL	DEFAULT 0,
	`TCONTENT`	VARCHAR(1000)	NOT NULL,
	`TDATE`	DATETIME	NOT NULL,
	`ID`	VARCHAR(100)	NOT NULL
);

CREATE TABLE `HIGHLIGHT_COMMENT` (
	`CONO`	INT	NOT NULL,
	`HINO`	INT	NOT NULL,
	`CODETAIL`	VARCHAR(4000)	NOT NULL,
	`CODATE`	DATETIME	NOT NULL,
	`ID`	VARCHAR(100)	NOT NULL
);

DROP TABLE MEMBER;
CREATE TABLE `MEMBER` (
	`ID`	VARCHAR(100) UNIQUE	NOT NULL,
	`PASSWORD`	VARCHAR(200)	NOT NULL,
	`NAME`	VARCHAR(50)	NOT NULL
);

DROP TABLE BOARD;
CREATE TABLE IF NOT EXISTS `batman`.`board` (
  `board_seq` INT NOT NULL AUTO_INCREMENT,
  `title` VARCHAR(100) NOT NULL,
  `content` TEXT NOT NULL,
  `reg_date` DATETIME NOT NULL,
  `update_date` DATETIME NOT NULL,
  `read_count` INT NOT NULL DEFAULT '0',
  `like` INT NOT NULL DEFAULT '0',
  `id` VARCHAR(100) NOT NULL,
  PRIMARY KEY (`board_seq`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;

CREATE TABLE IF NOT EXISTS `batman`.`board_comment` (
  `comment_seq` INT NOT NULL AUTO_INCREMENT,
  `content` VARCHAR(1000) NOT NULL,
  `reg_date` DATETIME NOT NULL,
  `id` VARCHAR(100) NOT NULL,
  `board_seq` INT NOT NULL,
  PRIMARY KEY (`comment_seq`),
  INDEX `fk_board_comment_board1_idx` (`board_seq` ASC) VISIBLE,
  CONSTRAINT `fk_board_comment_board1`
    FOREIGN KEY (`board_seq`)
    REFERENCES `batman`.`board` (`board_seq`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;

ALTER TABLE `GUESSVICTORY` ADD CONSTRAINT `PK_GUESSVICTORY` PRIMARY KEY (
	`ID`
);

ALTER TABLE `PLAYDETAIL` ADD CONSTRAINT `PK_PLAYDETAIL` PRIMARY KEY (
	`NUMBER`
);
ALTER TABLE `PLAYDETAIL`  MODIFY `NUMBER` INT AUTO_INCREMENT;

ALTER TABLE `HIGHLIGHT` ADD CONSTRAINT `PK_HIGHLIGHT` PRIMARY KEY (
	`HINO`
);
ALTER TABLE `HIGHLIGHT` MODIFY `HINO` INT AUTO_INCREMENT;

ALTER TABLE `TALK` ADD CONSTRAINT `PK_TALK` PRIMARY KEY (
	`TNO`
);
ALTER TABLE `TALK` MODIFY `TNO` INT AUTO_INCREMENT;

ALTER TABLE `HIGHLIGHT_COMMENT` ADD CONSTRAINT `PK_HIGHLIGHT_COMMENT` PRIMARY KEY (
	`CONO`,
	`HINO`
);
ALTER TABLE `HIGHLIGHT_COMMENT`  MODIFY `CONO` INT AUTO_INCREMENT;

ALTER TABLE `MEMBER` ADD CONSTRAINT `PK_MEMBER` PRIMARY KEY (
	`ID`
);

ALTER TABLE `BOARD` ADD CONSTRAINT `PK_BOARD` PRIMARY KEY (
	`BOARDID`
);
ALTER TABLE `BOARD`  MODIFY `BOARDID` INT AUTO_INCREMENT;


ALTER TABLE `BOARD_COMMENT` ADD CONSTRAINT `PK_BOARD_COMMENT` PRIMARY KEY (
	`CONO`,
	`BOARDID`
);
ALTER TABLE `BOARD_COMMENT`  MODIFY `CONO` INT AUTO_INCREMENT;

ALTER TABLE `GUESSVICTORY` ADD CONSTRAINT `FK_MEMBER_TO_GUESSVICTORY_1` FOREIGN KEY (
	`ID`
)REFERENCES `MEMBER` (	`ID`);

ALTER TABLE `HIGHLIGHT_COMMENT` ADD CONSTRAINT `FK_HIGHLIGHT_TO_HIGHLIGHT_COMMENT_1` FOREIGN KEY (
	`HINO`
)REFERENCES `HIGHLIGHT` (
	`HINO`
);

ALTER TABLE `BOARD_COMMENT` ADD CONSTRAINT `FK_BOARD_TO_BOARD_COMMENT_1` FOREIGN KEY (
	`BOARDID`
)REFERENCES `BOARD` (
	`BOARDID`
);

select * from board;
select * from board_comment;